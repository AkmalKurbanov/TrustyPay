//- mixins/tile.pug
mixin Tile(opts)
  - const { type, icon, label, price, rating, status} = opts;
  .tile(class="tile--" + type)
    if icon
      .tile__icon
        picture
          source(type="image/avif" srcset=`images/${icon}-320.avif 320w, images/${icon}-640.avif 640w, images/${icon}-960.avif 960w, images/${icon}-1440.avif 1440w`)
          source(type="image/webp" srcset="images/${icon}-320.webp 320w, images/${icon}-640.webp 640w, images/${icon}-960.webp 960w, images/${icon}-1440.webp 1440w")
          img(src="images/${icon}-960.webp" alt="${icon}" sizes="(max-width: 768px) 50vw, 240px" width="240" height="240" loading="lazy")

        if rating
          span.tile__rating ⭐ #{rating}

    if label
      .tile__label #{label}
    if price
      span.tile__price #{price}
    if status
      span.tile__status #{status}

mixin tile(opts)
  - const { type, icon, label, price, rating, plan } = opts
  .tile
    .tile__icon
      picture
        source(type="image/avif" srcset=`images/${icon}-320.avif 320w, images/${icon}-640.avif 640w, images/${icon}-960.avif 960w, images/${icon}-1440.avif 1440w`)
        source(type="image/webp" srcset=`images/${icon}-320.webp 320w, images/${icon}-640.webp 640w, images/${icon}-960.webp 960w, images/${icon}-1440.webp 1440w`)
        img(
          src=`images/${icon}-960.webp`
          alt=(label || icon)
          sizes="(max-width: 768px) 50vw, 240px"
          width="240" height="240"
          loading="lazy" decoding="async"
        )
      if rating
        span.tile__rating ⭐ #{rating}

      if plan
        span.tile__plan {plan}

